# ğŸ“ mathexam

> ä¸€ä¸ªä¸“ä¸šçš„ LaTeX æ•°å­¦è€ƒè¯•å‡ºé¢˜å®åŒ…

[![License](https://img.shields.io/badge/license-LPPL%201.3c-blue.svg)](http://www.latex-project.org/lppl.txt)
[![Version](https://img.shields.io/badge/version-v2.3.1-green.svg)](https://github.com/vanabel/mathexam/releases)
[![LaTeX](https://img.shields.io/badge/LaTeX-2.09%2B-orange.svg)](https://www.latex-project.org/)

`mathexam` æ˜¯ä¸€ä¸ªä¸“ä¸ºæ•°å­¦ç±»è€ƒè¯•è®¾è®¡çš„ LaTeX å®åŒ…ï¼Œæä¾›äº†å®Œæ•´çš„è¯•å·æ’ç‰ˆè§£å†³æ–¹æ¡ˆã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„è¯•å·æ ¼å¼ï¼ŒåŒ…æ‹¬è¯•å·å¤´ã€è®¡åˆ†è¡¨æ ¼ã€ç­”é¢˜åŒºåŸŸç­‰ï¼Œæ”¯æŒå¤šç§é¢˜å‹ï¼Œå¹¶å¯ä»¥æ–¹ä¾¿åœ°ç”Ÿæˆè¯•å·å’Œå‚è€ƒç­”æ¡ˆã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ“‹ é¢˜å‹æ”¯æŒ
- âœ… **é€‰æ‹©é¢˜** - æ”¯æŒ A/B/C/D é€‰é¡¹ï¼Œè‡ªåŠ¨æ’ç‰ˆ
- ğŸ“ **å¡«ç©ºé¢˜** - æ”¯æŒå•ç©ºå’Œå¤šç©ºå¡«ç©º
- âœ“ **åˆ¤æ–­é¢˜** - æ”¯æŒå¯¹é”™åˆ¤æ–­
- ğŸ”¢ **è®¡ç®—é¢˜** - æä¾›ç­”é¢˜ç©ºç™½åŒºåŸŸ
- ğŸ“ **è¯æ˜é¢˜** - æ”¯æŒåˆ†æ­¥è¯„åˆ†

### ğŸ¨ è‡ªåŠ¨æ’ç‰ˆ
- ğŸ“Š **è‡ªåŠ¨ç”Ÿæˆè®¡åˆ†è¡¨æ ¼** - æ ¹æ®å¤§é¢˜æ•°é‡è‡ªåŠ¨ç”Ÿæˆè¯•å·å¤´è®¡åˆ†è¡¨æ ¼
- ğŸ“„ **è¯•å·å¤´ä¿¡æ¯** - è‡ªåŠ¨ç”ŸæˆåŒ…å«å­¦æ ¡ã€è¯¾ç¨‹ã€è€ƒè¯•æ—¶é—´ç­‰ä¿¡æ¯çš„è¯•å·å¤´
- ğŸ“ˆ **è‡ªåŠ¨ç»Ÿè®¡** - è‡ªåŠ¨ç»Ÿè®¡æ€»é¢˜æ•°ã€æ€»åˆ†å€¼ã€æ€»é¡µæ•°
- ğŸ”„ **æ•°æ®åº“ç®¡ç†** - ä½¿ç”¨ datatool è‡ªåŠ¨ç®¡ç†é¢˜ç›®æ•°æ®

### ğŸ¯ å®ç”¨åŠŸèƒ½
- ğŸ‘ï¸ **ç­”æ¡ˆæ˜¾ç¤º/éšè—** - é€šè¿‡ `showans` é€‰é¡¹æ§åˆ¶ç­”æ¡ˆæ˜¾ç¤º
- ğŸ“‘ **A3 çº¸å¼ æ”¯æŒ** - æ”¯æŒ A3 çº¸å¼ åŒé¡µæ‰“å°
- ğŸ“ **è‰ç¨¿çº¸** - å¯é€‰çš„è‰ç¨¿çº¸åŠŸèƒ½
- ğŸ“‹ **ç­”é¢˜å¡** - æä¾›æ ‡å‡†ç­”é¢˜å¡æ ¼å¼
- ğŸ¨ **çµæ´»å¸ƒå±€** - æ”¯æŒè‡ªå®šä¹‰ç­”é¢˜åŒºåŸŸç©ºç™½é«˜åº¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

1. ä¸‹è½½ `mathexam.sty` æ–‡ä»¶
2. å°†å…¶æ”¾ç½®åœ¨å·¥ä½œç›®å½•æˆ– TeX æœç´¢è·¯å¾„ä¸­

### åŸºæœ¬ä½¿ç”¨

```latex
\documentclass[zihao=-4]{article}
\usepackage{mathexam}

% è®¾ç½®è¯•å·åŸºæœ¬ä¿¡æ¯
\university{è¥¿å—å¤§å­¦}
\school{æ•°å­¦ä¸ç»Ÿè®¡å­¦é™¢}
\course{é«˜ç­‰æ•°å­¦}
\AorB{A}
\finalmiddle{æœŸæœ«}
\totaltime{120}
\openclose{é—­å·}
\degree{æœ¬ç§‘}

\begin{document}
\makehead

% é€‰æ‹©é¢˜éƒ¨åˆ†
\begin{makepart}{å•é¡¹é€‰æ‹©é¢˜}[3]
  \begin{problem}
    å‡½æ•° $f(x,y)=\sqrt{x^2+y^2}$ åœ¨ $(0,0)$ å¤„\pickout{B}
    \begin{abcd}
      \item è¿ç»­ä¸”å¯å¾®
      \item è¿ç»­ä½†ä¸å¯å¾®
      \item ä¸è¿ç»­
      \item å¯å¾®ä½†ä¸è¿ç»­
    \end{abcd}
  \end{problem}
\end{makepart}

% å¡«ç©ºé¢˜éƒ¨åˆ†
\begin{makepart}{å¡«ç©ºé¢˜}[3]
  \begin{problem}
    å‡è®¾ $f(u)$ æ˜¯è¿ç»­å‡½æ•°ï¼Œåˆ™ $F(t)=\iiint_{x^2+y^2+z^2\leq t^4} 
    f(x^2+y^2+z^2)dxdydz$ çš„å¯¼æ•° $F'(1)=$\fillin{$8\pi f(1)$}
  \end{problem}
\end{makepart}

% è®¡ç®—é¢˜éƒ¨åˆ†
\begin{makepart}{è®¡ç®—é¢˜}[10]
  \begin{problem}[10]
    è®¡ç®—äºŒé‡ç§¯åˆ† $\iint_D x^2+y^2 dxdy$ï¼Œå…¶ä¸­ $D$ æ˜¯å•ä½åœ†ã€‚
    \begin{solution}[6em]
      ä½¿ç”¨æåæ ‡å˜æ¢...\score{5}
      è®¡ç®—å¾—ç»“æœä¸º $\frac{\pi}{2}$.\score{5}
    \end{solution}
  \end{problem}
\end{makepart}

\end{document}
```

### ç¼–è¯‘

```bash
latexmk -xelatex -shell-escape mathexam-main.tex
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

### åŒ…é€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| `showans` | æ˜¾ç¤ºç­”æ¡ˆï¼ˆç”¨äºç”Ÿæˆå‚è€ƒç­”æ¡ˆï¼‰ |
| `a3paper` | A3 çº¸å¼ æ¨¡å¼ï¼ˆåŒé¡µæ‰“å°ï¼‰ |
| `fixlast` | ä¿®å¤å¥‡æ•°é¡µæ—¶çš„æ ¼å¼é—®é¢˜ |
| `nospace` | è§£ç­”é¢˜ä¸ç•™ç©ºç™½ |
| `caogaozhi` | åœ¨è¯•å·æœ«å°¾æ·»åŠ è‰ç¨¿çº¸ |

### ä¸»è¦å‘½ä»¤

#### è¯•å·ä¿¡æ¯è®¾ç½®
```latex
\university{å­¦æ ¡åç§°}
\school{å­¦é™¢åç§°}
\course{è¯¾ç¨‹åç§°}
\AorB{A}              % è¯•å·ç±»å‹ï¼ˆA æˆ– Bï¼‰
\finalmiddle{æœŸæœ«}    % è€ƒè¯•ç±»å‹
\totaltime{120}       % è€ƒè¯•æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
\openclose{é—­å·}      % å¼€å·/é—­å·
\degree{æœ¬ç§‘}         % å­¦ç”Ÿç±»åˆ«
\major{ä¸“ä¸šåç§°}      % é€‚ç”¨ä¸“ä¸š
\grade{2020}          % å¹´çº§
```

#### é¢˜å‹ç¯å¢ƒ

**é€‰æ‹©é¢˜**
```latex
\begin{problem}
  é¢˜ç›®å†…å®¹\pickout{A}  % A/B/C/D
  \begin{abcd}
    \item é€‰é¡¹ A
    \item é€‰é¡¹ B
    \item é€‰é¡¹ C
    \item é€‰é¡¹ D
  \end{abcd}
\end{problem}
```

**å¡«ç©ºé¢˜**
```latex
\begin{problem}
  é¢˜ç›®å†…å®¹\fillin{ç­”æ¡ˆ}  % å•ç©ºå¡«ç©º
  æˆ–è€…\fillout{ç­”æ¡ˆ}     % å¡«å……åˆ°è¡Œæœ«
\end{problem}
```

**åˆ¤æ–­é¢˜**
```latex
\begin{problem}
  é¢˜ç›®å†…å®¹\true   % æˆ– \false
\end{problem}
```

**è§£ç­”é¢˜**
```latex
\begin{problem}[10]  % åˆ†å€¼
  é¢˜ç›®å†…å®¹
  \begin{solution}[6em]  % ç©ºç™½é«˜åº¦
    è§£ç­”å†…å®¹
    \score{5}  % åˆ†æ­¥è¯„åˆ†
  \end{solution}
\end{problem}
```

**ç­”é¢˜å¡**
```latex
\answertable[1em]{ç­”æ¡ˆæ•°é‡}{æ¯è¡Œç­”æ¡ˆæ•°}
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
mathexam/
â”œâ”€â”€ mathexam.dtx          # æºæ–‡ä»¶ï¼ˆåŒ…å«æ–‡æ¡£å’Œä»£ç ï¼‰
â”œâ”€â”€ mathexam.sty          # ç”Ÿæˆçš„å®åŒ…æ–‡ä»¶
â”œâ”€â”€ mathexam.pdf          # å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ mathexam-main.tex     # ç¤ºä¾‹è¯•å·
â”œâ”€â”€ mathexam-main.pdf     # ç¤ºä¾‹è¯•å· PDF
â”œâ”€â”€ mathexam-main-answer.tex  # ç¤ºä¾‹å‚è€ƒç­”æ¡ˆ
â”œâ”€â”€ mathexam-main-answer.pdf  # ç¤ºä¾‹å‚è€ƒç­”æ¡ˆ PDF
â”œâ”€â”€ Makefile              # æ„å»ºè„šæœ¬
â””â”€â”€ README.md             # æœ¬æ–‡ä»¶
```

## ğŸ”§ æ„å»º

ä½¿ç”¨æä¾›çš„ Makefileï¼š

```bash
make          # ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶
make pkg      # ä»…ç”Ÿæˆ .sty æ–‡ä»¶
make doc      # ä»…ç”Ÿæˆæ–‡æ¡£
make main     # ç”Ÿæˆç¤ºä¾‹è¯•å·
make clean    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.3.1 (2024)
- âœ¨ æ”¹è¿› datatool ç›¸å…³ä»£ç ï¼Œä¿®å¤æ•°å€¼ç´¯åŠ é—®é¢˜
- ğŸ› ä¿®å¤æ€»é¡µæ•°è®¡ç®—ï¼Œä½¿ç”¨ `\@abspage@last` ç¡®ä¿å‡†ç¡®æ€§
- ğŸ”„ æ›´æ–°æ•°æ®åº“ä¿å­˜æ–¹æ³•ï¼Œä½¿ç”¨æ›´æ ‡å‡†çš„ `\DTLwrite` API
- ğŸ“ æ›´æ–°æ–‡æ¡£ç±»é€‰é¡¹

### v2.3.0 (2020/12/12)
- âœ¨ æ·»åŠ ç­”é¢˜å¡å‘½ä»¤ `\answertable`
- âœ¨ æ·»åŠ  `caogaozhi` é€‰é¡¹ï¼Œæ”¯æŒè‰ç¨¿çº¸
- âœ¨ æ·»åŠ  `nospace` é€‰é¡¹ï¼Œè§£ç­”é¢˜ä¸ç•™ç©ºç™½

### v2.2.0 (2020/07/03)
- âœ¨ è‡ªåŠ¨æ ¹æ®å¤§é¢˜æ€»æ•°ç”Ÿæˆè¯•å·å¤´è®¡åˆ†è¡¨æ ¼

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [LaTeX Project Public License (LPPL) v1.3c](http://www.latex-project.org/lppl.txt) è®¸å¯è¯ã€‚

## ğŸ‘¤ ä½œè€…

**Van Abel**
- Email: van141.abel@gmail.com
- GitHub: [@vanabel](https://github.com/vanabel)

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®æœ€åˆå¼€å‘äºä¸Šæµ·äº¤é€šå¤§å­¦ï¼Œç”¨äºå‡†å¤‡æœŸä¸­è€ƒè¯•ã€‚æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…ï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼
